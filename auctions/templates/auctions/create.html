{% extends "auctions/layout.html" %}

{% block title %}New{% endblock %}

{% block body %}

    <h2>Create a new listing!</h2>
    
    {% if message %}
        <strong>{{ message }}</strong>
    {% endif %}

    <!-- Create a new listing form -->
    <form action="{% url 'create' %}" method="post">
        {% csrf_token %}
        <!-- Name of the listing (required)-->
        <label for="name">Name: </label>
        <input type="text" name="name" id="name" placeholder="Listing Name" required />
        <br />

        <!-- Description of the listing (optional)-->
        <label for="description">Item description:</label>
        <textarea name="description" id="description" rows="10" cols="70" placeholder="Item description">
        </textarea>
        <br />
        
        <!-- Starting price of the listing (required)-->
        <label for="price">Starting price($): </label>
        <input type="text" name="price" id="price" required /><br />

        <!-- Category of the listing(optional) -->
        <label for="category">Category: </label>
        <select name="category" size="5" id="category">
            {% for category in categories %}
                <option value="{{ category }}">{{ category }}</option>
            {% endfor %}
        </select>
        <br />

        <!-- Image url for the listing (optional) -->
        <label for="image">
            <strong>Optional</strong> image URL: 
        </label>
        <input type="url" id="image" name="image" placeholder="Image URL" />
        <br />

        <!-- Readonly form hidden in client to send 'user' object data to backend -->
        <input type="text" name="user" id="user" value="{{ user.id }}" 
            style="display:none" readonly />

        <!-- Submit button -->
        <input type="submit" value="Submit" />
    </form>

{% endblock %}